; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = espidf
board_upload.flash_size = 16MB
board_build.flash_mode = dio
board_build.f_flash = 80000000L
board_build.partitions = partitions.csv
upload_protocol = esptool
board_upload.use_usb = true
build_flags =
    -DCONFIG_ESP_CONSOLE_USB_CDC_ENABLED=1
    -DCONFIG_ESP_CONSOLE_UART_NONE=1

    ; Driver Selection
    -D DISPLAY_DRIVER_ST7789
    -D TOUCH_DRIVER_CST816S
    -D RTC_DRIVER_PCF85063
    
    ; ST7789 Display Configuration
    -D ST7789_H_RES=240
    -D ST7789_V_RES=280
    -D ST7789_PIN_SCLK=6
    -D ST7789_PIN_MOSI=7
    -D ST7789_PIN_RST=8
    -D ST7789_PIN_DC=4
    -D ST7789_PIN_CS=5
    -D ST7789_PIN_BL=15
    
    ; CST816S Touch Configuration
    -D CST816S_PIN_RST=13
    -D CST816S_PIN_INT=14
    -D CST816S_H_RES=240
    -D CST816S_V_RES=280
    
    ; I2C Configuration (shared by Touch and RTC)
    -D I2C_MASTER_NUM=0
    -D I2C_MASTER_SCL=10
    -D I2C_MASTER_SDA=11
    -D I2C_MASTER_FREQ_HZ=100000
    
    ; PCF85063 RTC Configuration
    -D PCF85063_SET_COMPILE_TIME=1

  ; LV_CONF
    -D LV_CONF_SKIP
    -D LV_CONF_INCLUDE_SIMPLE
    -D LV_FONT_MONTSERRAT_10=1
    -D LV_FONT_MONTSERRAT_12=1
    -D LV_FONT_MONTSERRAT_16=1
    -D LV_FONT_MONTSERRAT_48=1
    -D LV_FONT_MONTSERRAT_42=1
    -D LV_FONT_MONTSERRAT_32=1
    -D LV_FONT_MONTSERRAT_28=1
    -D LV_COLOR_16_SWAP=1
    -D LV_COLOR_SCREEN_TRANSP=1
extra_scripts = pre:set_compdb_path.py
